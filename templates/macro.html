{% macro build_block(title, date, ori, addr, text) -%}
<div class="w3-panel w3-round-xlarge w3-card-2 w3-light-grey entry">
  <header class="w3-container w3-padding-0">
    <h3 class="w3-text-blue entry-title">{{ title }} </h3>
    <p class="w3-medium">
      {{ date }}{% if addr|length > 1 %}, <a href={{addr}}>{{ori}}</a>{% endif %}
    </p>
  </header>
  <div class="w3-panel w3-card-4 w3-round-xlarge w3-light-green w3-hide entry-text">
      {{ text }}
  </div>
</div>
{%- endmacro %}


{% macro add_entry() -%}
<div class='w3-container'>
  <!-- form -->
  <form action="{{ url_for('add_entry') }}" method=post class="w3-panel w3-card-4 w3-light-grey">
    <h2 class="w3-text-blue">New Entry</h2>
    <p>
      <label class="w3-label w3-text-blue">Title:</label>
      <input class="w3-input w3-border" type="text" name=title>
    </p>
    <p>
      <label class="w3-label w3-text-blue">Text:</label><br>
      <textarea class="w3-input w3-border" name=text></textarea>
    </p>
    <p>
      <button class="w3-btn w3-blue">Submit</button>
    </p>
  </form>
</div>
{% endmacro %}


{% macro build_list(data) -%}
{% for title, date, ori, addr, text in data %}
{{ build_block(title, date, ori, addr, text) }}
{% endfor %}
{%- endmacro %}
